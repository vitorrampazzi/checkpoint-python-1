# Codigo - Checkpoint - Python - 1

lista = []
while True:
    print('-----------MENU-----------')
    print('1 - Cadastrar um novo aluno')
    print('2 - listar alunos cadastrados')
    print('3 - Ver estatísticas')
    print('4 - Sair do programa')
    opcao = input('Escolha uma opção: ')
    match opcao:
        case '1':
            nome = input('Escreva o novo aluno')
            idade = int(input('Escreva a idade do aluno'))
            notas = []
            for i in range(3):
                while True:
                    nota = float(input('insira as notas de 0 a 10: '))
                    if 0 <= nota <= 10:
                        notas.append(nota)
                        break
                    else:
                        print('Nota inválida, tente novamente.')
            aluno ={
            'nome': nome,
            'idade': idade,
            'notas': notas
            }
            lista.append(aluno)
            print('Aluno cadastrado!')
        case '2':
            if len(lista) == 0:
                print('Não tem nenhum aluno cadastrado')
            else:
                print(f"Nome: {aluno['nome']}, Idade: {aluno['idade']}, Notas: {aluno['notas']}")
        case '3':
            if len(lista) == 0:
                print('Não tem alunos para analisar.')
            else:
                soma_idades = 0
                maior_media = 0
                nome_maior_media = ''
                aprovados = 0

                for aluno in lista:
                    soma_idades += aluno['idade']
                    media_notas = sum(aluno['notas']) / len(aluno['notas'])

                    if media_notas > maior_media:
                        maior_media = media_notas
                        nome_maior_media = aluno['nome']

                    if media_notas >= 7:
                        aprovados += 1

                media_idade = soma_idades / len(lista)

                print(f'Média de idade dos alunos: {media_idade}')
                print(f'Maior média de notas: {maior_media} é do aluno: {nome_maior_media}')
                print(f'Alunos aprovados: {aprovados} de {len(lista)}')

        case '4':
            print('Saindo do programa!')
            break


        case _:
            print('Escolha uma opção válida.')
